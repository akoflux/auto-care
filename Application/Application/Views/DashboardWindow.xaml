<Window x:Class="FleetManager.Views.DashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Fleet Manager - Tableau de bord" Height="700" Width="1000"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="60"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="#1565C0">
            <Grid>
                <TextBlock Text="Tableau de bord"
                          FontSize="24"
                          FontWeight="Bold"
                          Foreground="White"
                          VerticalAlignment="Center"
                          Margin="20,0"/>
                <Button Content="Actualiser"
                       HorizontalAlignment="Right"
                       Margin="0,0,20,0"
                       Padding="15,8"
                       Background="#4CAF50"
                       Foreground="White"
                       BorderThickness="0"
                       Cursor="Hand"
                       Click="BtnActualiser_Click">
                    <Button.Template>
                        <ControlTemplate TargetType="Button">
                            <Border Background="{TemplateBinding Background}" CornerRadius="4">
                                <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            </Border>
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </Border>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">
                <!-- Statistiques generales -->
                <TextBlock Text="Vue d'ensemble" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,15"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Total vehicules -->
                    <Border Grid.Column="0" Background="White" Margin="0,0,10,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Total Vehicules" FontSize="14" Foreground="#666"/>
                            <TextBlock x:Name="TxtTotalVehicules" Text="0" FontSize="32" FontWeight="Bold" Foreground="#2196F3" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Total km -->
                    <Border Grid.Column="1" Background="White" Margin="5,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Total Km Parcourus" FontSize="14" Foreground="#666"/>
                            <TextBlock x:Name="TxtTotalKm" Text="0 km" FontSize="32" FontWeight="Bold" Foreground="#4CAF50" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Total cout carburant -->
                    <Border Grid.Column="2" Background="White" Margin="5,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Cout Total Carburant" FontSize="14" Foreground="#666"/>
                            <TextBlock x:Name="TxtTotalCout" Text="0 EUR" FontSize="32" FontWeight="Bold" Foreground="#FF9800" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>

                    <!-- Total litres -->
                    <Border Grid.Column="3" Background="White" Margin="10,0,0,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel>
                            <TextBlock Text="Total Litres" FontSize="14" Foreground="#666"/>
                            <TextBlock x:Name="TxtTotalLitres" Text="0 L" FontSize="32" FontWeight="Bold" Foreground="#9C27B0" Margin="0,5,0,0"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Repartition par carburant -->
                <TextBlock Text="Repartition par type de carburant" FontSize="18" FontWeight="SemiBold" Margin="0,30,0,15"/>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Essence -->
                    <Border Grid.Column="0" Background="White" Margin="0,0,10,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel HorizontalAlignment="Center">
                            <Ellipse Width="60" Height="60" Fill="#E53935"/>
                            <TextBlock Text="Essence" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" Margin="0,10,0,5"/>
                            <TextBlock x:Name="TxtEssence" Text="0" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Diesel -->
                    <Border Grid.Column="1" Background="White" Margin="5,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel HorizontalAlignment="Center">
                            <Ellipse Width="60" Height="60" Fill="#424242"/>
                            <TextBlock Text="Diesel" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" Margin="0,10,0,5"/>
                            <TextBlock x:Name="TxtDiesel" Text="0" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Hybride -->
                    <Border Grid.Column="2" Background="White" Margin="5,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel HorizontalAlignment="Center">
                            <Ellipse Width="60" Height="60" Fill="#43A047"/>
                            <TextBlock Text="Hybride" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" Margin="0,10,0,5"/>
                            <TextBlock x:Name="TxtHybride" Text="0" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>

                    <!-- Electrique -->
                    <Border Grid.Column="3" Background="White" Margin="10,0,0,0" Padding="20" CornerRadius="8">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                        </Border.Effect>
                        <StackPanel HorizontalAlignment="Center">
                            <Ellipse Width="60" Height="60" Fill="#1E88E5"/>
                            <TextBlock Text="Electrique" FontSize="14" FontWeight="SemiBold" HorizontalAlignment="Center" Margin="0,10,0,5"/>
                            <TextBlock x:Name="TxtElectrique" Text="0" FontSize="24" FontWeight="Bold" HorizontalAlignment="Center"/>
                        </StackPanel>
                    </Border>
                </Grid>

                <!-- Liste des vehicules -->
                <TextBlock Text="Liste des vehicules" FontSize="18" FontWeight="SemiBold" Margin="0,30,0,15"/>
                <Border Background="White" Padding="15" CornerRadius="8">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="5" Color="#CCC" Opacity="0.3"/>
                    </Border.Effect>
                    <DataGrid x:Name="DgVehicules"
                             AutoGenerateColumns="False"
                             IsReadOnly="True"
                             CanUserAddRows="False"
                             GridLinesVisibility="Horizontal"
                             BorderThickness="0"
                             MaxHeight="250">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Immatriculation" Binding="{Binding Immatriculation}" Width="*"/>
                            <DataGridTextColumn Header="Marque" Binding="{Binding Marque}" Width="*"/>
                            <DataGridTextColumn Header="Modele" Binding="{Binding Modele}" Width="*"/>
                            <DataGridTextColumn Header="Carburant" Binding="{Binding TypeCarburant}" Width="*"/>
                            <DataGridTextColumn Header="Date d'achat" Binding="{Binding DateAchat, StringFormat=dd/MM/yyyy}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>
